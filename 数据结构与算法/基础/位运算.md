# 位运算

Java的位运算主要有：按位与(`&`)、按位或(`|`)、按位取反(`~`)、按位异或(`^`)、左移(`<<`)、带符号右移(`>>`)、无符号右移(`>>>`)



## 1.按位与(&)

当相同位上的两个数字都为1时，结果为1；否则为0

```java
1&1=1 
1&0=0
0&1=0 
0&0=0 
```

## 2.按位或(|)

当相同位上的数字至少有一个为1时，结果为1；否则为0

```java
 1|1=1 
 1|0=1 
 0|1=1 
 0|0=0
```

## 3.按位取反(~)

```java
^1=0
^0=1
```

## 4.按位异或(^)

当相同位上的两个数字不同时，结果为1；相同时为0

```java
1^1=0 
1^0=1 
0^1=1 
0^0=0
```

## 5.左移(<<)

将二进制数字向左移动，移动几位就在最右侧补多少个0。
例如 `3<<1`，因为3的二进制表示形式为11，向左移动一位后变为110，所以 `3<<1=6`。
左移n位相当于乘上2的n次方。

## 6.带符号右移(>>)

将二进制数字向右移动，移动几位就在最右侧消去多少个比特位，并最左侧**`填充符号位`**。
例如 `3>>1`，因为3的二进制表示形式为011，所以向右移动一位后变为001，所以 `3>>1=1`。
例如 `-3>>1`，因为-3的二进制补码表示为11111111111111111111111111111101，所以带符号向右移动一位后变为11111111111111111111111111111110，对应的数字为-2，所以 `-3>>1=-2`。
1左移一位会变成0，0左移依旧为0。



## 7.无符号右移(>>>)

将二进制数字向右移动，移动几位就在最右侧消去多少个比特位，并最左侧填充0。
例如 `-3>>>1`，因为-3的二进制补码表示为11111111111111111111111111111101，所以无符号向右移动一位后变为01111111111111111111111111111110，对应的数字为2147483646，所以 `-3>>>1=2147483646`



## 8.原码，反码和补码

### 8.1 原码

**最高位是符号位，0代表正数，1代表负数，非符号位为改数字绝对值的二进制表示。**
（127的原码为0111 1111，-127的原码为1111 1111）

### 8.2 反码

**正数的反码与原码一致；负数的反码只是原码取反，符号位不变。**
（127的反码为0111 1111，-127的反码为1000 0000）

### 8.3 补码

**正数的补码与原码一样；负数的补码是该数的反码+1。**（127的补码为0111 1111，-127的补码为1000 0001）

注：还有一种求补码方法是负数的补码等于模减去该数的绝对值

补码的正0和负0只有一种表示方法（补码+0和-0表示出来都是8位00000000，所以**补码的表示范围整数比原码和反码多表示一个数**。

比如：8位（2的8次方），补码是-128~+127 原码和反码都是-127~+127



## 9.打印一个int的32位二进制数

```java
public class Test1 {
    //打印一个int的32位二进制
    private static void print(int num){
        for(int i = 31 ; i>=0 ; i-- ){
            System.out.print((num & (1 << i))== 0 ? "0" : "1");
            // num=1 => 00000000000000000000000000000001   1的二进制位
            //     1 => 00000000000000000000000000000001
            // 1<<31 => 10000000000000000000000000000000   1向左移动31位后的二进制位
            //        & 00000000000000000000000000000001   &操作，只有全是1才是1，其它为0
            //        -----------------------------------
            //          00000000000000000000000000000000
        }
        System.out.println();
    }

    public static void main(String[] args) {
        print(1);//00000000000000000000000000000001
    }
}

```





## 11.取一个数的相反数

**`原数取反+1`**

```java
    public static void main(String[] args) {
        int i = 5;
        //直接加-号
        System.out.println(-i);
        //取反加1
        System.out.println(~i+1);
        //  5的二进制 00000000000000000000000000000101
        //    ~1 => 11111111111111111111111111111010
        //      +1  11111111111111111111111111111011
        //转换为补码  10000000000000000000000000000101 => -5
```

